extends layout

block content
  body
    include projectnav
    .container
      h3 #{transmissionLine.name}
        span &nbsp;
        a.btn.btn-default(href="/project/" + transmissionLine.project_id) Back

      div.panel.panel-default
        div.panel-heading General
        div.panel-body
          form(action="/transmissionline/" + transmissionLine.id + "/save", method="post")
            label Name
            input.form-control(type="text", name="name", placeholder="Name", value="#{transmissionLine.name}")
            label Frequency (Hz)
            input.form-control(type="text", name="frequency", value="#{transmissionLine.frequency}")
            label Average rainfall (mm/h)
            input.form-control(type="text", name="average_rainfall", value="#{transmissionLine.average_rainfall}")
            label Relative air density 50%
            input.form-control(type="text", name="relative_air_density_50", value="#{transmissionLine.relative_air_density_50}")
            label Relative air density 90%
            input.form-control(type="text", name="relative_air_density_90", value="#{transmissionLine.relative_air_density_90}")
            label Max circuits
            input.form-control(type="text", name="max_circuits", value="#{transmissionLine.max_circuits}")
            label Max shield wires
            input.form-control(type="text", name="max_shield_wires", value="#{transmissionLine.max_shield_wires}")
            button.btn.btn-primary(type="submit") Save

      div.panel.panel-default
        div.panel-heading Circuits
        div.panel-body
          table.table
            tr
              th #
              th Voltage
              th
            - each circuit in circuits
              tr
                td #{circuit.id}
                td #{circuit.nominal_voltage} kV
                td
                  a.btn.btn-default(href="/circuit/#{circuit.id}") Edit
                  span &nbsp;
                  a.btn.btn-danger(href="/circuit/remove/#{circuit.id}") Remove
          a.btn.btn-default(href="/circuit/add/" + transmissionLine.id) New Circuit

      div.panel.panel-default
        div.panel-heading Shield Wires
        div.panel-body
          table.table
            tr
              th #
              th Name
              th
            - each shieldWire in shieldWires
              tr
                td #{shieldWire.id}
                td (#{shieldWire.x} ; #{shieldWire.y}) m
                td
                  a.btn.btn-default(href="/shieldwire/#{shieldWire.id}") Edit
                  span &nbsp;
                  a.btn.btn-danger(href="/shieldwire/remove/#{shieldWire.id}") Remove
          a.btn.btn-default(href="/shieldwire/add/" + transmissionLine.id) New Shield Wire

      div.panel.panel-default
        div.panel-heading Structures
        div.panel-body
          table.table
            tr
              th #
              th Name
              th
            - each structure in structures
              tr
                td #{structure.id}
                td #{structure.name}
                td
                  a.btn.btn-default(href="/structure/#{structure.id}") Edit
                  span &nbsp;
                  a.btn.btn-danger(href="/structure/remove/#{structure.id}") Remove
          a.btn.btn-default(href="/structure/add/" + transmissionLine.id) New Structure
